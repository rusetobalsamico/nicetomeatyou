!function(o){"use strict";o(document).ready(function(){if(o("body").hasClass("post-type-page")||o("body").hasClass("post-type-post")||o("body").hasClass("post-type-portfolio")||o("body").hasClass("post-type-gallery")||o("body").hasClass("post-type-product")||o("body").hasClass("post-type-dfd-author")){var i=function(){var t=o("#advanced-sortables .dfd-metaboxes-wrap .postbox");o(".cmb_metabox > tbody > tr",t).each(function(){var i=o(this),a=i.attr("data-dependancy-option"),r=i.attr("data-dependancy-value");if(a&&""!=a&&r&&""!=r){var e=function(){var e=o('[name="'+a+'"]').is('input[type="radio"]')?o('[name="'+a+'"]:checked').val():o('[name="'+a+'"]').val(),t=r.split(",");-1!=o.inArray(e,t)?i.show(500):(i.find('input[type="text"], select').val(""),i.find('input[type="radio"]:checked').removeAttr("checked").trigger("change"),i.hide(500))};e(),t.on("change",'[name="'+a+'"]',function(){e()})}})},e=function(){o(".repeatable-grouping").each(function(){var t=o(this),e=t.find('input[type="radio"]'),i=t.find(".cmb-nested-table > tbody > tr"),a=function(){var e=t.find('input[type="radio"]:checked').val();i.siblings('[data-dependancy-value]:not([data-dependancy-value*="'+e+'"])').hide(500),i.siblings('[data-dependancy-value*="'+e+'"]').show(500)};a(),e.on("change",function(){a()})})},t=function(){"dfd-3d-parallax"==o('[class$="_hover_appear_effect"]').find("option:selected").val()?o('[class$="_hover_main_decoration"]').find("ul > li:last-child").hide(500).find('input[type="radio"]:checked').removeAttr("checked").trigger("change"):o('[class$="_hover_main_decoration"]').find("ul > li:last-child").show(500)},a=o("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#vcwb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats):not(.acf-postbox)").clone(),r=o("#advanced-sortables");o("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#vcwb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats):not(.acf-postbox)").remove(),a.prependTo(r),r.wrapInner('<div class="dfd-metaboxes-wrap" />').prepend('<div class="dfd-metaboxes-titles" />'),o(".dfd-metaboxes-wrap .postbox",r).each(function(){var e=o(this),t=e.attr("id"),i=e.not(".acf-hidden").find(".hndle").clone().attr("class",t);e.hasClass("closed")&&e.removeClass("closed"),e.hasClass("acf-hidden")&&e.remove(),e.find(".hndle").remove(),e.find(".handlediv").remove(),i.appendTo(".dfd-metaboxes-titles",r)}),o(".dfd-metaboxes-wrap",r).find(".postbox").not(":first").hide(),i(),e(),o("body").on("cmb_add_row cmb_shift_row",function(){e()}),t(),o("body").on("change",'[class$="_hover_appear_effect"]',function(){t()}),r.on("click touchend",".dfd-metaboxes-titles > *",function(){var e=o(this),t=e.attr("class");e.addClass("active").siblings().removeClass("active"),o(".dfd-metaboxes-wrap",r).find("#"+t).show().siblings(".postbox").hide(),i()}),o(".dfd-metaboxes-titles",r).find("> *").first().click()}o('input[type="checkbox"]').each(function(){var e=o(this).siblings("label"),t=e.find(".button-animation");e.click(function(){t.toggleClass("right-active")})})})}(jQuery),window.CMB=function(i,e,f){"use strict";var c=i.cmb_l10,s=i.setTimeout,m={formfield:"",idNumber:!1,file_frames:{},repeatEls:'input:not([type="button"]),select,textarea,.cmb_media_status',metabox:function(){return m.$metabox||(m.$metabox=f("table.cmb_metabox")),m.$metabox},init:function(){var e=m.metabox(),t=e.find(".repeatable-group");c.new_admin_style&&e.find(".cmb-spinner img").hide(),m.initPickers(e.find("input:text.cmb_timepicker"),e.find("input:text.cmb_datepicker"),e.find("input:text.cmb_colorpicker")),f("#ui-datepicker-div").wrap('<div class="cmb_element" />'),f('<p><span class="button cmb-multicheck-toggle">'+c.check_toggle+"</span></p>").insertBefore("ul.cmb_checkbox_list"),e.on("change",".cmb_upload_file",function(){m.formfield=f(this).attr("id"),f("#"+m.formfield+"_id").val("")}).on("click",".cmb-multicheck-toggle",m.toggleCheckBoxes).on("click",".cmb_upload_button",m.handleMedia).on("click",".cmb_remove_file_button",m.handleRemoveMedia).on("click",".add-group-row",m.addGroupRow).on("click",".add-row-button",m.addAjaxRow).on("click",".remove-group-row",m.removeGroupRow).on("click",".remove-row-button",m.removeAjaxRow).on("keyup paste focusout",".cmb_oembed",m.maybeOembed).on("cmb_remove_row",".repeatable-group",m.resetTitlesAndIterator),t.length&&t.filter(".sortable").each(function(){f(this).find(".remove-group-row").before('<a class="shift-rows move-up alignleft" href="#">'+c.up_arrow+'</a> <a class="shift-rows move-down alignleft" href="#">'+c.down_arrow+"</a>")}).on("click",".shift-rows",m.shiftRows).on("cmb_add_row",m.emptyValue),s(m.resizeoEmbeds,500),f(i).on("resize",m.resizeoEmbeds)},resetTitlesAndIterator:function(){f(".repeatable-group").each(function(){var i=f(this);i.find(".repeatable-grouping").each(function(e){var t=f(this);t.data("iterator",e),t.find(".cmb-group-title h4").text(i.find(".add-group-row").data("grouptitle").replace("{#}",e+1))})})},toggleCheckBoxes:function(e){e.preventDefault();var t=f(this),i=t.parents("td").find("input[type=checkbox]");t.data("checked")?(i.prop("checked",!1),t.data("checked",!1)):(i.prop("checked",!0),t.data("checked",!0))},handleMedia:function(e){if(wp){e.preventDefault();var t=m.metabox(),i=f(this);m.formfield=i.prev("input").attr("id");var a=f("#"+m.formfield),r=a.attr("name"),o=!0,n=!0,s=i.hasClass("cmb_upload_list");if(m.formfield in m.file_frames)return void m.file_frames[m.formfield].open();m.file_frames[m.formfield]=wp.media.frames.file_frame=wp.media({title:t.find("label[for="+m.formfield+"]").text(),button:{text:c.upload_file},multiple:!!s});var d={list:function(e){n=e.toJSON(),a.val(n.url),f("#"+m.formfield+"_id").val(n.id);var t=[];f(n).each(function(){o=this.type&&"image"===this.type?'<li class="img_status"><img width="50" height="50" src="'+this.url+'" class="attachment-50x50" alt="'+this.filename+'"><p><a href="#" class="cmb_remove_file_button" rel="'+m.formfield+"["+this.id+']">'+c.remove_image+'</a></p><input type="hidden" id="filelist-'+this.id+'" name="'+r+"["+this.id+']" value="'+this.url+'"></li>':"<li>"+c.file+" <strong>"+this.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+this.url+'" target="_blank" rel="external">'+c.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+m.formfield+"["+this.id+']">'+c.remove_file+'</a>)<input type="hidden" id="filelist-'+this.id+'" name="'+r+"["+this.id+']" value="'+this.url+'"></li>',t.push(o)}),f(t).each(function(){a.siblings(".cmb_media_status").slideDown().append(this)})},single:function(e){n=e.first().toJSON(),a.val(n.url),f("#"+m.formfield+"_id").val(n.id),o=n.type&&"image"===n.type?'<div class="img_status"><img style="max-width: 350px; width: 100%; height: auto;" src="'+n.url+'" alt="'+n.filename+'" title="'+n.filename+'" /><p><a href="#" class="cmb_remove_file_button" rel="'+m.formfield+'">'+c.remove_image+"</a></p></div>":c.file+" <strong>"+n.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+n.url+'" target="_blank" rel="external">'+c.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+m.formfield+'">'+c.remove_file+"</a>)",a.siblings(".cmb_media_status").slideDown().html(o)}};m.file_frames[m.formfield].on("select",function(){var e=m.file_frames[m.formfield].state().get("selection");d[s?"list":"single"](e)}),m.file_frames[m.formfield].open()}},handleRemoveMedia:function(e){e.preventDefault();var t=f(this);if(t.is(".attach_list .cmb_remove_file_button"))return t.parents("li").remove(),!1;m.formfield=t.attr("rel");var i=t.parents(".img_status");return m.metabox().find("input#"+m.formfield).val(""),m.metabox().find("input#"+m.formfield+"_id").val(""),i.length?i.html(""):t.parents(".cmb_media_status").html(""),!1}};return f.fn.replaceText=function(r,o,n){return this.each(function(){var e,t,i=this.firstChild,a=[];if(i)for(;3===i.nodeType&&((t=(e=i.nodeValue).replace(r,o))!==e&&(!n&&/</.test(t)?(f(i).before(t),a.push(i)):i.nodeValue=t)),i=i.nextSibling;);a.length&&f(a).remove()})},f.fn.cleanRow=function(p,e){var t=f(this),i=t.find('input:not([type="button"]), select, textarea, label');return e&&t.find(".cmb-repeat-table .repeat-row:not(:first-child)").remove(),m.$focus=!1,m.neweditor_id=[],i.filter(":checked").removeAttr("checked"),i.filter(":selected").removeAttr("selected"),t.find(".cmb-group-title")&&t.find(".cmb-group-title h4").text(t.data("title").replace("{#}",m.idNumber+1)),i.each(function(){var e,t,i,a=f(this),r=a.hasClass("wp-editor-area"),o=a.attr("for"),n={};if(o)n={for:o.replace("_"+p,"_"+m.idNumber)};else{var s=a.attr("name"),d=s?s.replace("["+p+"]","["+m.idNumber+"]"):"";e=(t=a.attr("id"))?t.replace("_"+p,"_"+m.idNumber):"",i=a.is('input[type="radio"]')?a.val():"",n={id:e,name:d,"data-iterator":m.idNumber,value:i}}if(a.removeClass("hasDatepicker").attr(n),r){e=e?t.replace("zx"+p,"zx"+m.idNumber):"",a.html("");var c=a.parents(".cmb-type-wysiwyg");c.find(".mce-tinymce:not(:first-child)").remove();var l=c.html().replace(new RegExp(t,"g"),e);c.html(l),m.neweditor_id.push({id:e,old:t})}m.$focus=m.$focus?m.$focus:a}),this},f.fn.newRowHousekeeping=function(){var e=f(this),t=e.find(".wp-picker-container"),i=e.find(".cmb_media_status");return t.length&&t.each(function(){var e=f(this).parent();e.html(e.find("input:text.cmb_colorpicker").attr("style",""))}),i.length&&i.empty(),this},m.afterRowInsert=function(e){var t,i;if(m.$focus&&m.$focus.focus(),m.neweditor_id.length)for(i=m.neweditor_id.length-1;0<=i;i--){var a=m.neweditor_id[i].id,r=m.neweditor_id[i].old;if(void 0===tinyMCEPreInit.mceInit[a]){var o=jQuery.extend({},tinyMCEPreInit.mceInit[r]);for(t in o)"string"==typeof o[t]&&(o[t]=o[t].replace(new RegExp(r,"g"),a));tinyMCEPreInit.mceInit[a]=o}if(void 0===tinyMCEPreInit.qtInit[a]){var n=jQuery.extend({},tinyMCEPreInit.qtInit[r]);for(t in n)"string"==typeof n[t]&&(n[t]=n[t].replace(new RegExp(r,"g"),a));tinyMCEPreInit.qtInit[a]=n}tinyMCE.init({id:tinyMCEPreInit.mceInit[a]})}m.initPickers(e.find("input:text.cmb_timepicker"),e.find("input:text.cmb_datepicker"),e.find("input:text.cmb_colorpicker"))},m.updateNameAttr=function(){var e=f(this),t=e.attr("name");if(void 0===t)return!1;var i=parseInt(e.parents(".repeatable-grouping").data("iterator")),a=i-1,r=t.replace("["+i+"]","["+a+"]");e.attr("name",r)},m.emptyValue=function(e,t){f('input:not([type="button"]):not([type="radio"]):not([type="checkbox"]), textarea',t).val(""),f('input[type="radio"], input[type="checkbox"]',t).removeAttr("checked")},m.addGroupRow=function(e){e.preventDefault();var t=f(this),i=f("#"+t.data("selector")),a=i.find(".repeatable-grouping").last(),r=parseInt(a.data("iterator"));m.idNumber=r+1;var o=a.clone();o.data("title",t.data("grouptitle")).newRowHousekeeping().cleanRow(r,!0);var n=f('<tr class="repeatable-grouping" data-iterator="'+m.idNumber+'">'+o.html()+"</tr>");a.after(n),m.afterRowInsert(n),i.find(".repeatable-grouping").length<=1?i.find(".remove-group-row").prop("disabled",!0):i.find(".remove-group-row").removeAttr("disabled"),i.trigger("cmb_add_row",n),f("body").trigger("cmb_add_row")},m.addAjaxRow=function(e){e.preventDefault();var t="#"+f(this).data("selector"),i=f(t),a=i.find(".empty-row"),r=parseInt(a.find("[data-iterator]").data("iterator"));m.idNumber=r+1;var o=a.clone();o.newRowHousekeeping().cleanRow(r),a.removeClass("empty-row").addClass("repeat-row"),a.after(o),m.afterRowInsert(o),i.trigger("cmb_add_row",o),f("body").trigger("cmb_add_row")},m.removeGroupRow=function(e){e.preventDefault();var t=f(this),i=f("#"+t.data("selector")),a=t.parents(".repeatable-grouping"),r=i.find(".repeatable-grouping").length;a.nextAll(".repeatable-grouping").find(m.repeatEls).each(m.updateNameAttr),1<r&&(a.remove(),r<3?i.find(".remove-group-row").prop("disabled",!0):i.find(".remove-group-row").prop("disabled",!1),i.trigger("cmb_remove_row"))},m.removeAjaxRow=function(e){e.preventDefault();var t=f(this),i=t.parents("tr"),a=t.parents(".cmb-repeat-table");1<a.find("tr").length&&(i.hasClass("empty-row")&&i.prev().addClass("empty-row").removeClass("repeat-row"),t.parents(".cmb-repeat-table tr").remove(),a.trigger("cmb_remove_row"))},m.shiftRows=function(e){e.preventDefault();var t=f(this),i=t.parents(".repeatable-grouping"),a=t.hasClass("move-up")?i.prev(".repeatable-grouping"):i.next(".repeatable-grouping");if(a.length){var r=[];i.find(m.repeatEls).each(function(){var e,t=f(this);t.hasClass("cmb_media_status")?e=t.html():"checkbox"===t.attr("type")?(e=t.is(":checked"),m.log("checked",e)):"select"===t.prop("tagName")?(e=t.is(":selected"),m.log("checked",e)):e=t.val(),r.push({val:e,$:t})}),a.find(m.repeatEls).each(function(e){var t,i=f(this);i.hasClass("cmb_media_status")?(t=i.html(),i.html(r[e].val),r[e].$.html(t)):"checkbox"===i.attr("type")?(r[e].$.prop("checked",i.is(":checked")),i.prop("checked",r[e].val)):"select"===i.prop("tagName")?(r[e].$.prop("selected",i.is(":selected")),i.prop("selected",r[e].val)):(r[e].$.val(i.val()),i.val(r[e].val))}),f("body").trigger("cmb_shift_row")}},m.initPickers=function(e,t,i){m.initTimePickers(e),m.initDatePickers(t),m.initColorPickers(i)},m.initTimePickers=function(e){e.length&&e.timePicker({startTime:"00:00",endTime:"23:59",show24Hours:!1,separator:":",step:30})},m.initDatePickers=function(e){e.length&&(e.datepicker("destroy"),e.datepicker())},m.initColorPickers=function(e){e.length&&("object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker?e.wpColorPicker():e.each(function(e){f(this).after('<div id="picker-'+e+'" style="z-index: 1000; background: #EEE; border: 1px solid #CCC; position: absolute; display: block;"></div>'),f("#picker-"+e).hide().farbtastic(f(this))}).focus(function(){f(this).next().show()}).blur(function(){f(this).next().hide()}))},m.maybeOembed=function(i){var t=f(this);({focusout:function(){s(function(){m.spinner(".postbox table.cmb_metabox",!0)},2e3)},keyup:function(){var e=function(e,t){return i.which<=t&&i.which>=e};(e(48,90)||e(96,111)||e(8,9)||187===i.which||190===i.which)&&m.doAjax(t,i)},paste:function(){s(function(){m.doAjax(t)},100)}})[i.type]()},m.resizeoEmbeds=function(){m.metabox().each(function(){var e=f(this),t=e.parents(".inside");if(!t.length)return!0;var o=Math.round(.82*t.width()*.97)-30;if(639<o)return!0;var i=e.find(".cmb-type-oembed .embed_status").children().not(".cmb_remove_wrapper");return!i.length||void i.each(function(){var e=f(this),t=e.width(),i=e.height(),a=o;e.parents(".repeat-row").length&&(a=o-91);var r=Math.round(a*i/t);e.width(a).height(r)})})},m.log=function(){c.script_debug&&console&&"function"==typeof console.log&&console.log.apply(console,arguments)},m.spinner=function(e,t){t?f(".cmb-spinner",e).hide():f(".cmb-spinner",e).show()},m.doAjax=function(e){var t=e.val();if(!(t.length<6)){var i=e.attr("id"),a=e.parents(".cmb-repeat-table  tr td");a=a.length?a:e.parents(".cmb_metabox tr td");var r=f(".embed_status",a),o=e.width(),n=f(":first-child",r);m.log("oembed_url",t,i),o=r.length&&n.length?n.width():e.width(),m.spinner(a),f(".embed_wrap",a).html(""),s(function(){f(".cmb_oembed:focus").val()===t&&f.ajax({type:"post",dataType:"json",url:c.ajaxurl,data:{action:"cmb_oembed_handler",oembed_url:t,oembed_width:300<o?o:300,field_id:i,object_id:e.data("objectid"),object_type:e.data("objecttype"),cmb_ajax_nonce:c.ajax_nonce},success:function(e){m.log(e),void 0!==e.id&&(m.spinner(a,!0),f(".embed_wrap",a).html(e.result))}})},500)}},f(e).ready(m.init),m}(window,document,jQuery),function(n){"use strict";n(document).ready(function(){var e=n("#dfd_headers_header_style"),t=n("#dfd_headers_logo_position"),i=n("#dfd_headers_menu_position"),a=n(".cmb_id_dfd_headers_show_side_area"),r=n(".cmb_id_dfd_headers_show_top_inner_page"),o=function(){+e.val()<7?(a.show(),r.show()):(a.hide(),r.hide()),"0"==e.val()||"1"==e.val()||"2"==e.val()?(t.parents("tr").show(),i.parents("tr").show()):(t.parents("tr").hide(),i.parents("tr").hide())};o(),e.on("change",o)})}(jQuery);